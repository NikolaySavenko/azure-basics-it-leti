# Azure IoT

[Azure IoT.pptx](Azure%20IoT%20b037f85567a649129a34d95aea75e9b3/Azure_IoT.pptx)

![Untitled](Azure%20IoT%20b037f85567a649129a34d95aea75e9b3/Untitled.png)

Azure IoT — это коллекция управляемых корпорацией Майкрософт облачных служб, которые позволяют подключать миллиарды ресурсов Интернета вещей, отслеживать их состояние и управлять ими. Проще говоря, решение для Интернета вещей состоит из одного или нескольких устройств Интернета вещей, которые взаимодействуют с одной или несколькими внутренними службами, размещенными в облаке.****

Устройство Интернета вещей обычно состоит из микросхемы с присоединенными датчиками и модулем Wi-Fi для подключения к Интернету. Пример:

- датчик давления на удаленном масляном насосе;
- датчики температуры и влажности в кондиционере;
- акселерометр в лифте;
- датчик присутствия в комнате.

## IoT Hub

![Untitled](Azure%20IoT%20b037f85567a649129a34d95aea75e9b3/Untitled%201.png)

Центр Интернета вещей Azure — это основная служба PaaS (платформа как услуга) Azure, которая обеспечивает двунаправленное взаимодействие между устройствами Интернета вещей и облачным решением. Центр Интернета вещей является отправной точкой для любого решения Интернета вещей и реализует некоторые основные функции, общие для развертываний Интернета вещей. К ним относятся работа в сети, вычисления, хранение и безопасность. Эти функции описаны ниже.

Центр Интернета вещей Azure обеспечивает безопасное и надежное взаимодействие между решением Интернета вещей и устройствами, которыми оно управляет. Центр Интернета вещей предоставляет серверную часть облачного решения для подключения устройств с проверкой подлинности на уровне устройства, управлением устройствами и масштабируемой подготовкой.

Центр Интернета вещей Azure имеет два уровня: "Базовый" и "Стандартный". Для разработки функций полнофункциональной и двусторонней связи следует использовать уровень "Стандартный". Уровень "Базовый" предоставляет подмножество компонентов и предназначен для решений, которым требуется только однонаправленная связь с устройствами в облаке. Оба уровня предоставляют одинаковые компоненты безопасности и проверки подлинности.

**Поддерживаемые протоколы**. Центр Интернета вещей позволяет устройствам использовать следующие протоколы для обмена данными на стороне устройства: MQTT, MQTT через WebSocket, AMQP, AMQP через WebSocket и HTTPS.

![Untitled](Azure%20IoT%20b037f85567a649129a34d95aea75e9b3/Untitled%202.png)

**Двойники устройств**. Двойники устройств — это документы JSON, хранящие сведения о состоянии устройства, в том числе метаданные, конфигурации и условия. Центр Интернета вещей Azure сохраняет двойник устройства для каждого устройства, подключаемого к Центру Интернета вещей. Двойники устройств хранят сведения об устройствах, которые устройства и серверные части могут использовать для синхронизации условий и конфигурации устройства.

## IoT Central

Azure IoT Central — это решение корпорации Майкрософт, разработанное для устранения распространенных проблем, возникающих при создании приложений Интернета вещей. Платформа приложений поставляется с функциями для подключения устройств и управления ими, мониторинга, оповещения и выполнения действий на основе сработавших правил, визуализации данных с устройств с помощью панелей мониторинга и аналитики для получения информации и расширения возможностей других бизнес-приложений посредством непрерывного экспорта данных и API. Эти функции позволяют пользователям быстро внедрять решения IoT в соответствии с потребностями своего бизнеса.

![Untitled](Azure%20IoT%20b037f85567a649129a34d95aea75e9b3/Untitled%203.png)

Azure IoT Central — Это платформа приложений как услуга (*aPaaS*), которая предоставляет облачную среду для создания, управления и доставки вашего решения IoT с меньшими затратами усилий с вашей стороны.

Корпорация Майкрософт позволяет создавать решение Интернета вещей с помощью отдельных служб PaaS или на платформе решения Интернета вещей aPaaS.

- Платформа как услуга (PaaS) — это модель облачных вычислений, в которой вы настраиваете аппаратные и программные средства Azure для определенной задачи или функции задания. С помощью служб PaaS вы отвечаете за масштабирование и настройку, но базовая инфраструктура как услуга (IaaS) отвечает за вас.
- Платформа приложений как услуга (aPaaS) предоставляет облачную среду для создания, управления и доставки приложений клиентам. Предложения aPaaS заботятся о масштабировании и большей части конфигурации, но им по-прежнему требуются входные данные разработчика для создания готового решения.

![Untitled](Azure%20IoT%20b037f85567a649129a34d95aea75e9b3/Untitled%204.png)

### Что выбрать?

![Untitled](Azure%20IoT%20b037f85567a649129a34d95aea75e9b3/Untitled%205.png)

## IoT Edge

![Untitled](Azure%20IoT%20b037f85567a649129a34d95aea75e9b3/Untitled%206.png)

Azure IoT Edge — это сочетание облачной службы, запущенной в облаке, и среды выполнения, которая запускается на устройстве. Среда выполнения запускает рабочие процессы на устройстве и управляет ими. Рабочий процесс состоит из набора контейнеров, которые связываются в определенном порядке для создания комплексного сценария. IoT Edge управляется центром Интернета вещей. Azure IoT Edge позволяет выполнять рабочие нагрузки на пограничном устройстве, которые разрабатываются с помощью облачных служб. Рабочая нагрузка — это модуль, развернутая с помощью контейнеров, совместимых с Docker. Модули могут быть приложениями искусственного интеллекта, службами Azure и сторонними службами либо бизнес-логикой.

![Untitled](Azure%20IoT%20b037f85567a649129a34d95aea75e9b3/Untitled%207.png)

Azure IoT Edge состоит из трех компонентов:

**Модули IoT Edge** — это единицы выполнения, которые реализуются в виде совместимых с Docker контейнеров. Модули IoT Edge позволяют запускать бизнес-логику в пограничной области. Модули IoT Edge могут запускать службы Azure, сторонние службы или ваш код. Модули развертываются на устройства IoT Edge и выполняются на них локально. Можно настроить взаимодействие модулей, создав конвейер обработки данных. При необходимости модули могут работать в автономном режиме.

**Среда выполнения IoT Edge** запускается на каждом устройстве IoT Edge и позволяет управлять средой выполнения и взаимодействием для модулей, развернутых на каждом устройстве. Среда выполнения IoT Edge гарантирует, что модули всегда работают и отправляют отчеты о своей работоспособности в облако.

Основные функции среды выполнения:

- Установка и обновление рабочих нагрузок
- Соблюдение стандартов безопасности IoT Edge
- Управление взаимодействием между подчиненными конечными устройствами и устройством IoT Edge.
- Управление взаимодействием между модулями на устройстве IoT Edge и взаимодействием между устройством IoT Edge и облаком.

**Облачный интерфейс IoT Edge** позволяет осуществлять мониторинг устройств IoT Edge и управлять ими удаленно. Если в решении используется обширный спектр устройств, можно создать и настроить рабочую нагрузку для выполнения на устройстве определенного типа. Затем нужно развернуть рабочую нагрузку на наборе устройств этого типа. После запуска устройств нужно централизованно отслеживать рабочие нагрузки. Облачный интерфейс IoT Edge позволяет в нужном масштабе управлять общим жизненным циклом для различных наборов устройств, которые могут быть географически разрозненными.

[Quickstart - Send telemetry to Azure IoT Hub (CLI) quickstart](https://docs.microsoft.com/en-us/azure/iot-hub/quickstart-send-telemetry-cli)

[https://docs.microsoft.com/en-us/azure/iot-hub/iot-hub-csharp-csharp-device-management-get-started](https://docs.microsoft.com/en-us/azure/iot-hub/iot-hub-csharp-csharp-device-management-get-started)