# Web Apps

![Untitled](Web%20Apps%2079e21673ab4b4621bf6b589c8a84f769/Untitled.png)

## *Служба приложений Azure*

[Web Apps and Containers.pptx](Web%20Apps%2079e21673ab4b4621bf6b589c8a84f769/Web_Apps_and_Containers.pptx)

*Служба приложений Azure* — это служба на базе HTTP для размещения веб-приложений, интерфейсов REST API и серверной части мобильных решений. Вы можете выполнять разработку на привычных платформах: .NET, .NET Core, Java, Ruby, Node.js, PHP или Python. Приложения без затруднений работают и масштабируются в средах на основе Windows и [Linux](https://docs.microsoft.com/ru-ru/azure/app-service/overview#app-service-on-linux)

Служба приложений Azure — это полностью управляемое предложение "платформа как услуга" (PaaS) для разработчиков. 

![Untitled](Web%20Apps%2079e21673ab4b4621bf6b589c8a84f769/Untitled%201.png)

Помимо Службы приложений, Azure предлагает и другие службы, которые можно использовать для размещения веб-сайтов и веб-приложений. В большинстве случаев оптимальным вариантом является служба приложений. Для реализации архитектуры микрослужб рекомендуется использовать [службу Azure Spring-Cloud](https://docs.microsoft.com/ru-ru/azure/spring-cloud/)
 или [Service Fabric](https://azure.microsoft.com/documentation/services/service-fabric). 

Если вам требуется дополнительный контроль над виртуальными машинами, на которых выполняется ваш код, рекомендуется использовать [Виртуальные машины Azure](https://azure.microsoft.com/documentation/services/virtual-machines/)

### Итог

Служба приложений Azure обеспечивает полностью управляемое размещение веб-приложений, включая веб-сайты и веб-API. Эти веб-приложения можно развертывать с помощью кода или контейнеров. Служба приложений Azure оптимизирована для веб-приложений. Служба приложений Azure интегрируется с другими службами Azure, включая приложения-контейнеры Azure и Функции Azure. Служба приложений Azure — это идеальное решение для создания веб-приложений

## Среда службы приложений

Среда службы приложений — это функция службы приложений Azure, которая предоставляет полностью изолированную и выделенную среду для безопасного запуска приложений службы приложений в высоком масштабе

В Средах службы приложений может размещаться:

- веб-приложения Windows;
- веб-приложения Linux;
- контейнеры docker (Windows и Linux)
- Функции
- Приложения логики (Standard)

Среды службы приложений подходят для рабочих нагрузок приложений, которым требуется:

- Большой масштаб.
- изоляция и безопасный доступ к сети;
- высокий уровень использования памяти.
- Большое количество запросов в секунду (RPS). Вы можете создать несколько сред службы приложений в одном регионе Azure или в нескольких регионах Azure. Такая гибкость делает Среда службы приложений идеальной для горизонтального масштабирования приложений без отслеживания состояния с высоким требованием RPS.

Среда службы приложений может размещать приложения только одного клиента и выполнять их в одной из своих виртуальных сетей. Клиенты могут детально управлять входящим и исходящим сетевым трафиком приложений, а приложения — создавать высокоскоростные безопасные подключения к локальным корпоративным ресурсам через VPN

## Статические веб приложения

![Untitled](Web%20Apps%2079e21673ab4b4621bf6b589c8a84f769/Untitled%202.png)

Статические веб-приложения обычно собираются с помощью библиотек и платформ, таких как Angular, React, Svelte или Vue. К таким приложениям относятся HTML, CSS, JavaScript и ресурсы изображений, составляющие приложение. При использовании традиционной архитектуры веб-сервера эти файлы обслуживаются с одного сервера вместе со всеми необходимыми конечными точками API.

При использовании службы статических веб-приложений Azure статические ресурсы отделены от традиционных веб-серверов и обслуживаются из точек, распределенных по всему миру. Это распределение намного ускоряет обслуживание файлов, поскольку файлы становятся ближе к пользователям физически. Конечные точки API, которые не являются обязательными, размещаются с использованием бессерверной архитектуры, что полностью снимает необходимость в полноценном внутреннем сервере.

Модель статических веб-приложений Azure состоит в том, что вы получаете именно то, что вам нужно, ни больше ни меньше.

Статические веб-приложения Azure идеально подходят для обслуживания чистого статического содержимого, но у них также есть отличная поддержка статических веб-приложений, которым требуются интерфейсы API. Поэтому можно размещать статическое веб-приложение с API или без него.

### **Основные возможности**

- **Глобально распределенное веб-размещение**, при котором статическое содержимое, включая код HTML, CSS, JavaScript и изображения, размещается ближе к пользователям.
- **Интегрированная поддержка API**, которую обеспечивают Функции Azure.
- **Прямая интеграция с GitHub и Azure DevOps**, при которой изменения в репозитории активируют операции сборки и развертывания.
- **Бесплатные SSL-сертификаты**, которые обновляются автоматически
- **Уникальные URL-адреса предварительного просмотра** для предварительного просмотра запросов на вытягивание

## Развертывание

Репозиторий GitHub содержит исходный код, поэтому перед публикацией нужно выполнить его сборку.

Когда вы создаете экземпляр службы статических веб-приложений, Azure создает рабочий процесс GitHub Actions в вашем репозитории. Рабочий процесс собирает приложение каждый раз при отправке изменений или при создании запроса на вытягивание для ветви, выбранной для отслеживания. Этот процесс сборки превращает исходный код в статические ресурсы, обслуживаемые Azure. После завершения сборки это действие развертывает ресурсы.

Действие GitHub добавляется в ваш репозиторий в папке *.github/workflows*. При необходимости вы можете проверить или изменить этот файл. Параметры, которые вы вводите при создании ресурса, сохраняются в файле действия GitHub.

![Untitled](Web%20Apps%2079e21673ab4b4621bf6b589c8a84f769/Untitled%203.png)

### **Интеграция API с Функциями Azure**

Если приложению требуется API, его можно реализовать как проект Функций Azure в своем репозитории. API будет автоматически развернут и размещен в экземпляре Статических веб-приложений. Рабочий процесс GitHub Actions, который выполняет сборку и развертывание вашего приложения, находит API в репозитории по имени указанной вами папки.

Обычно приложение API помещается в папку с именем *api* или *functions*, но при желании вы можете назвать ее любым другим именем.

Что делать, если у вас нет API? Не беспокойтесь. Если служба статических веб-приложений Azure не найдет API в указанной вами папке, она не опубликует API, но все равно опубликует ваше приложение.

![Untitled](Web%20Apps%2079e21673ab4b4621bf6b589c8a84f769/Untitled%204.png)

## Итог

Основной задачей было сократить объем работы с инфраструктурой и сосредоточиться на разработке бизнес-функций и пользовательском интерфейсе.

Статические веб-приложения Azure идеально подходят для таких решений где нужны:

- Производительность и масштаб. Ваши веб-ресурсы глобально распределены, чтобы обеспечить их близкое размещение к пользователям для уменьшения задержки, а бизнес-логика выполняется на базе Функций Azure, которые автоматически масштабируются в соответствии с потребностями.
- Продуктивность. Вы получаете автоматизированный конвейер сборки с поддержкой CI/CD.
- Безопасность. Веб-приложение защищено с помощью SSL-сертификата.

Без Статических веб-приложений Azure вам потребовалось бы развернуть веб-ресурсы в облачном хранилище, создать и назначить свой SSL-сертификат, создать API, установить подключение к обратному прокси-серверу, который позволяет приложению выполнять вызовы к API, распространить приложение глобально и настроить собственный процесс CI/CD.

Все это Статические веб-приложения Azure предоставляют автоматически. Благодаря этому вы можете сосредоточиться на разработке новых функций и оптимизации пользовательского интерфейса, а не на создании и обслуживании инфраструктуры сайта.